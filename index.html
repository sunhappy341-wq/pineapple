<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ Pineapple Ecosystem - ç§‘æŠ€å·…å³°</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        :root { --accent: #FFD700; --bg: #000; --text: #eee; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: var(--bg); color: var(--text); font-family: -apple-system, sans-serif; overflow-x: hidden; }
        
        /* ç²’å­èƒŒæ™¯ */
        #particle-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; opacity: 0.5; }

        /* å¯¼èˆª */
        nav { position: fixed; top: 0; width: 100%; height: 50px; background: rgba(0,0,0,0.8); backdrop-filter: blur(20px); z-index: 1000; display: flex; justify-content: center; align-items: center; border-bottom: 0.5px solid rgba(255,255,255,0.1); }
        nav ul { display: flex; list-style: none; gap: 20px; }
        nav ul li { font-size: 13px; cursor: pointer; transition: 0.3s; color: #888; }
        nav ul li:hover { color: var(--accent); }

        /* é¡µé¢æ¿å— */
        .section { height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 20px; }
        .title { font-size: clamp(32px, 8vw, 80px); font-weight: 700; background: linear-gradient(180deg, #fff, #444); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        
        /* 3D å®¹å™¨ */
        .product-3d { width: 280px; height: 450px; background: linear-gradient(145deg, #111, #000); border: 4px solid #333; border-radius: 40px; margin: 30px 0; display: flex; justify-content: center; align-items: center; font-size: 100px; box-shadow: 0 0 50px rgba(255,215,0,0.2); transition: 0.5s; }

        /* å¼¹çª— */
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); backdrop-filter: blur(15px); display: none; justify-content: center; align-items: center; z-index: 2000; opacity: 0; transition: 0.4s; }
        .modal.active { display: flex; opacity: 1; }
        .modal-content { background: #111; width: 90%; max-width: 500px; border-radius: 20px; padding: 25px; border: 1px solid #333; position: relative; }
        .close-btn { position: absolute; top: 15px; right: 20px; font-size: 24px; cursor: pointer; color: #888; }

        /* Bç«™è§†é¢‘å®¹å™¨é€‚é… */
        .video-wrapper { position: relative; width: 100%; height: 0; padding-bottom: 56.25%; margin: 20px 0; border-radius: 12px; overflow: hidden; background: #000; }
        .video-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }

        .buy-btn { display: inline-block; padding: 12px 35px; background: #0071e3; color: #fff; border-radius: 25px; text-decoration: none; font-weight: 600; margin-top: 20px; }
    </style>
</head>
<body>

<canvas id="particle-canvas"></canvas>

<nav>
    <ul>
        <li onclick="gsap.to(window, {scrollTo: '#phone', duration: 1})">æ‰‹æœº</li>
        <li onclick="gsap.to(window, {scrollTo: '#pad', duration: 1})">å¹³æ¿</li>
        <li onclick="gsap.to(window, {scrollTo: '#watch', duration: 1})">æ‰‹è¡¨</li>
    </ul>
</nav>

<section class="section" id="phone">
    <h1 class="title">Pineapple 16 Pro</h1>
    <div class="product-3d">ğŸ“±</div>
    <a href="javascript:void(0)" class="buy-btn" onclick="openModal('phone-vid')">è§‚çœ‹é¢„å‘Šç‰‡</a>
</section>

<section class="section" id="pad">
    <h1 class="title">Pineapple Pad</h1>
    <div class="product-3d">ğŸ’»</div>
    <a href="javascript:void(0)" class="buy-btn" onclick="openModal('pad-vid')">æ€§èƒ½å±•ç¤º</a>
</section>

<div id="phone-vid" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal('phone-vid')">&times;</span>
        <h2 style="color:var(--accent)">16 Pro å®˜æ–¹é¢„å‘Š</h2>
        <div class="video-wrapper">
            <iframe id="bili-frame-1" src="//player.bilibili.com/player.html?bvid=BV1GJ411x7h7&page=1&high_quality=1&as_wide=1&allowfullscreen=true" scrolling="no" border="0" frameborder="no" framespacing="0"></iframe>
        </div>
        <p style="color:#888; font-size:14px;">æ­è½½ P18 Pro èŠ¯ç‰‡ï¼Œé‡å¡‘æ€§èƒ½å·…å³°ã€‚</p>
        <button class="buy-btn" style="width:100%" onclick="alert('è£…é€¼æˆåŠŸï¼è¿™æ˜¯æ¨¡æ‹Ÿè´­ä¹°')">ç«‹å³é¢„è®¢</button>
    </div>
</div>

<div id="pad-vid" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal('pad-vid')">&times;</span>
        <h2 style="color:var(--accent)">Pad Pro ç”Ÿäº§åŠ›</h2>
        <div class="video-wrapper">
            <iframe id="bili-frame-2" src="//player.bilibili.com/player.html?bvid=BV1v4411Z7of&page=1&high_quality=1" scrolling="no" border="0" frameborder="no" framespacing="0"></iframe>
        </div>
        <button class="buy-btn" style="width:100%" onclick="alert('Pad Pro å·²åŠ å…¥è´­ç‰©è½¦')">ç«‹å³é¢„è®¢</button>
    </div>
</div>

<script>
    // å¼¹çª—é€»è¾‘
    function openModal(id) {
        const m = document.getElementById(id);
        m.style.display = 'flex';
        setTimeout(() => m.classList.add('active'), 10);
        document.body.style.overflow = 'hidden';
    }

    function closeModal(id) {
        const m = document.getElementById(id);
        m.classList.remove('active');
        // åœæ­¢è§†é¢‘æ’­æ”¾ï¼šåˆ·æ–° iframe
        const frame = m.querySelector('iframe');
        const tmpSrc = frame.src;
        frame.src = '';
        frame.src = tmpSrc;
        setTimeout(() => m.style.display = 'none', 400);
        document.body.style.overflow = '';
    }

    // Three.js ç²’å­èƒŒæ™¯ (ç®€åŒ–ç‰ˆ)
    const canvas = document.getElementById('particle-canvas');
    const renderer = new THREE.WebGLRenderer({canvas, alpha: true});
    renderer.setSize(window.innerWidth, window.innerHeight);
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
    camera.position.z = 5;

    const geo = new THREE.BufferGeometry();
    const pos = new Float32Array(2000 * 3);
    for(let i=0; i<6000; i++) pos[i] = (Math.random()-0.5) * 10;
    geo.setAttribute('position', new THREE.BufferAttribute(pos, 3));
    const mat = new THREE.PointsMaterial({color: 0xFFD700, size: 0.02});
    const points = new THREE.Points(geo, mat);
    scene.add(points);

    function animate() {
        requestAnimationFrame(animate);
        points.rotation.y += 0.001;
        renderer.render(scene, camera);
    }
    animate();

    // æ»šåŠ¨åŠ¨ç”»
    gsap.from(".product-3d", {
        scrollTrigger: { trigger: ".product-3d", scrub: 1 },
        rotateY: 360,
        scale: 0.5,
        opacity: 0
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollToPlugin.min.js"></script>
</body>
</html>
