<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ Pineapple Ecosystem - è¶…è¶Šæƒ³è±¡</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        :root {
            --accent-gold: #FFD700;
            --dark-bg: #000000;
            --light-text: #E0E0E0;
            --subtle-gray: #888888;
            --glass-blur: rgba(255, 255, 255, 0.05);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: var(--dark-bg);
            color: var(--light-text);
            font-family: -apple-system, "SF Pro Display", sans-serif;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* ç²’å­èƒŒæ™¯ç”»å¸ƒ */
        #particle-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; opacity: 0.6;
        }

        /* é¡¶éƒ¨å¯¼èˆª */
        nav {
            position: fixed; top: 0; width: 100%; height: 55px;
            background: rgba(0,0,0,0.7); backdrop-filter: blur(25px);
            z-index: 1000; display: flex; justify-content: space-around; align-items: center;
            border-bottom: 0.5px solid rgba(255,255,255,0.1);
            padding: 0 20px;
        }
        nav .logo { font-size: 24px; color: var(--accent-gold); font-weight: bold; }
        nav ul { list-style: none; display: flex; gap: 30px; }
        nav ul li {
            font-size: 14px; color: var(--light-text); cursor: pointer;
            position: relative; transition: 0.3s;
        }
        nav ul li::after {
            content: ''; position: absolute; left: 0; bottom: -5px;
            width: 0; height: 2px; background: var(--accent-gold);
            transition: width 0.3s ease;
        }
        nav ul li:hover::after { width: 100%; }
        nav ul li:hover { color: var(--accent-gold); }

        /* äº§å“å±•ç¤ºåŒº */
        .product-section {
            height: 100vh; display: flex; flex-direction: column;
            justify-content: center; align-items: center; text-align: center;
            padding: 0 20px; position: relative;
            perspective: 1000px; /* 3D è§†è§’ */
        }

        .section-title {
            font-size: clamp(40px, 8vw, 90px); font-weight: 700;
            background: linear-gradient(180deg, #fff 40%, rgba(255,255,255,0.2) 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            margin-bottom: 10px; z-index: 10;
        }

        .section-subtitle {
            font-size: clamp(18px, 3vw, 24px); color: var(--subtle-gray);
            margin-bottom: 40px; z-index: 10;
        }

        /* æ¨¡æ‹Ÿ 3D äº§å“å®¹å™¨ */
        .product-3d-container {
            width: clamp(250px, 60vw, 400px);
            height: clamp(350px, 80vw, 600px);
            position: relative;
            transform-style: preserve-3d;
            transform: rotateX(15deg) rotateY(-15deg); /* åˆå§‹ 3D å€¾æ–œ */
            transition: transform 0.5s ease-out;
        }

        .product-face {
            position: absolute; width: 100%; height: 100%;
            background: linear-gradient(145deg, #222, #000);
            border: 5px solid #444; border-radius: 40px;
            display: flex; justify-content: center; align-items: center;
            font-size: clamp(80px, 15vw, 150px);
            color: var(--light-text);
            backface-visibility: hidden; /* é˜²æ­¢èƒŒé¢é—ªçƒ */
            box-shadow: 0 20px 80px rgba(0,0,0,0.6);
            opacity: 0.95;
            transition: all 0.5s ease-out;
        }

        .product-face.front {
            transform: translateZ(20px);
            box-shadow: 0 0 100px var(--accent-gold); /* å‘å…‰ */
        }
        .product-face.back {
            transform: rotateY(180deg) translateZ(20px);
        }
        .product-face.left {
            width: 40px; transform: translateX(-20px) rotateY(-90deg) translateZ(200px);
            background: #333;
        }
        .product-face.right {
            width: 40px; transform: translateX(calc(100% - 20px)) rotateY(90deg) translateZ(200px);
            background: #333;
        }
        /* ç®€åŒ– 3D æ•ˆæœï¼Œä¸»è¦é  transform: translateZ å’Œ rotateY */


        /* äº§å“è¯¦æƒ…å¼¹çª— */
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); backdrop-filter: blur(15px);
            display: flex; justify-content: center; align-items: center;
            z-index: 1001; opacity: 0; pointer-events: none;
            transition: opacity 0.4s ease;
        }
        .modal.active { opacity: 1; pointer-events: all; }

        .modal-content {
            background: var(--dark-bg); border-radius: 25px; padding: 30px;
            max-width: 90%; max-height: 90vh; overflow-y: auto;
            border: 1px solid rgba(255,255,255,0.2);
            transform: translateY(20px); opacity: 0; transition: all 0.4s ease;
        }
        .modal.active .modal-content { transform: translateY(0); opacity: 1; }

        .modal-close {
            position: absolute; top: 20px; right: 20px;
            font-size: 30px; color: var(--subtle-gray); cursor: pointer;
        }
        .modal-close:hover { color: var(--light-text); }

        .modal h3 { font-size: 36px; margin-bottom: 20px; color: var(--accent-gold); }
        .modal p { font-size: 16px; line-height: 1.6; color: var(--subtle-gray); margin-bottom: 15px; }
        .modal ul { list-style: none; margin-bottom: 20px; }
        .modal ul li { background: var(--glass-blur); padding: 10px 15px; border-radius: 10px; margin-bottom: 8px; }

        .modal .product-video-placeholder {
            width: 100%; height: 200px; background: #333; border-radius: 15px;
            display: flex; justify-content: center; align-items: center;
            font-size: 18px; color: var(--subtle-gray); margin-top: 20px;
        }

        /* è´­ä¹°æŒ‰é’® */
        .buy-button {
            display: inline-block; padding: 15px 40px; background: #0071e3;
            color: white; border-radius: 30px; text-decoration: none;
            font-weight: 600; font-size: 18px; margin-top: 30px;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0,113,227,0.4);
        }
        .buy-button:hover { background: #147ce5; transform: translateY(-5px); }

        /* åª’ä½“æŸ¥è¯¢ - å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            nav ul { gap: 15px; }
            nav ul li { font-size: 11px; }
            .section-title { font-size: clamp(30px, 10vw, 60px); }
            .section-subtitle { font-size: clamp(16px, 4vw, 20px); }
            .product-3d-container { width: 200px; height: 350px; }
            .product-face { font-size: 80px; }
            .modal h3 { font-size: 28px; }
            .modal p { font-size: 14px; }
        }

        /* åº•éƒ¨ */
        footer {
            padding: 50px 20px; text-align: center; color: #444; font-size: 12px;
        }
    </style>
</head>
<body>

    <canvas id="particle-canvas"></canvas>

    <nav>
        <span class="logo">ğŸPineapple</span>
        <ul>
            <li onclick="scrollToSection('hero-phone')">æ‰‹æœº</li>
            <li onclick="scrollToSection('hero-pad')">å¹³æ¿</li>
            <li onclick="scrollToSection('hero-watch')">æ‰‹è¡¨</li>
            <li onclick="scrollToSection('hero-mac')">ç”µè„‘</li>
        </ul>
    </nav>

    <section class="product-section" id="hero-phone">
        <h1 class="section-title">Pineapple 16 Pro</h1>
        <p class="section-subtitle">å¼ºå¾—å¾ˆï¼Œä¹Ÿç”œå¾—å¾ˆã€‚é¢ è¦†ä½ çš„æƒ³è±¡ã€‚</p>
        <div class="product-3d-container" id="phone-3d">
            <div class="product-face front">ğŸ“±</div>
        </div>
        <a href="#" class="buy-button" onclick="showProductDetails('phone-details')">äº†è§£æ›´å¤š</a>
    </section>

    <section class="product-section" id="hero-pad">
        <h1 class="section-title">Pineapple Pad Pro</h1>
        <p class="section-subtitle">è¶…è§†ç½‘è†œæ¶²æ€å±ï¼Œè§¦ç¢°æœªæ¥ã€‚</p>
        <div class="product-3d-container" id="pad-3d">
            <div class="product-face front">å¹³æ¿</div>
        </div>
        <a href="#" class="buy-button" onclick="showProductDetails('pad-details')">äº†è§£æ›´å¤š</a>
    </section>

    <section class="product-section" id="hero-watch">
        <h1 class="section-title">Pineapple Watch Ultra</h1>
        <p class="section-subtitle">å†’é™©å®¶çš„è…•ä¸Šä¼™ä¼´ï¼Œæ¢å¯»æœªçŸ¥ã€‚</p>
        <div class="product-3d-container" id="watch-3d">
            <div class="product-face front">âŒš</div>
        </div>
        <a href="#" class="buy-button" onclick="showProductDetails('watch-details')">äº†è§£æ›´å¤š</a>
    </section>

    <section class="product-section" id="hero-mac">
        <h1 class="section-title">Pineapple Mac Studio</h1>
        <p class="section-subtitle">ä¸ºåˆ›æ„è€Œç”Ÿï¼Œæ€§èƒ½å·…å³°ã€‚</p>
        <div class="product-3d-container" id="mac-3d">
            <div class="product-face front">ğŸ’»</div>
        </div>
        <a href="#" class="buy-button" onclick="showProductDetails('mac-details')">äº†è§£æ›´å¤š</a>
    </section>

    <footer>
        Copyright Â© 2025 Pineapple Inc. All rights reserved.<br>
        æ­¤ä¸ºæ¼”ç¤ºé¡µé¢ï¼ŒéçœŸå®äº§å“ã€‚
    </footer>

    <div id="phone-details" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('phone-details')">&times;</span>
            <h3>Pineapple 16 Pro è¯¦æƒ…</h3>
            <p>æ­è½½å…¨æ–° P18 Pro èŠ¯ç‰‡ï¼Œ3nm å·¥è‰ºï¼Œæ€§èƒ½æå‡ 40%ã€‚é…å¤‡ 4800 ä¸‡åƒç´ è¶…å¹¿è§’è èæ‘„åƒå¤´ï¼Œæ”¯æŒ 8K ç”µå½±çº§è§†é¢‘å½•åˆ¶ã€‚</p>
            <ul>
                <li>âš¡ï¸ P18 Pro èŠ¯ç‰‡</li>
                <li>ğŸ“¸ 48MP è¶…å¹¿è§’</li>
                <li>ğŸ”‹ 5000mAh ç»­èˆª</li>
                <li>ğŸ’§ IP68 çº§é˜²å°˜é˜²æ°´</li>
            </ul>
            <div class="product-video-placeholder">äº§å“æ¼”ç¤ºè§†é¢‘å ä½ç¬¦</div>
            <a href="#" class="buy-button" onclick="alert('å·²åŠ å…¥è´­ç‰©è½¦ï¼')">ç«‹å³è´­ä¹°</a>
        </div>
    </div>

    <div id="pad-details" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('pad-details')">&times;</span>
            <h3>Pineapple Pad Pro è¯¦æƒ…</h3>
            <p>13è‹±å¯¸è¶…è§†ç½‘è†œ XDR æ¶²æ€æ˜¾ç¤ºå±ï¼Œåˆ·æ–°ç‡é«˜è¾¾ 120Hzã€‚é…å¤‡ M4 è èèŠ¯ç‰‡ï¼Œè½»æ¾å¤„ç†ä¸“ä¸šçº§åº”ç”¨å’Œæ¸¸æˆã€‚</p>
            <ul>
                <li>ğŸš€ M4 Pro èŠ¯ç‰‡</li>
                <li>ğŸ–¥ï¸ 13å¯¸ OLED æ˜¾ç¤º</li>
                <li>âœï¸ æ”¯æŒäºŒä»£è èç¬”</li>
                <li>ğŸ”‹ 10 å°æ—¶ç»­èˆª</li>
            </ul>
            <div class="product-video-placeholder">äº§å“æ¼”ç¤ºè§†é¢‘å ä½ç¬¦</div>
            <a href="#" class="buy-button" onclick="alert('å·²åŠ å…¥è´­ç‰©è½¦ï¼')">ç«‹å³è´­ä¹°</a>
        </div>
    </div>

    <div id="watch-details" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('watch-details')">&times;</span>
            <h3>Pineapple Watch Ultra è¯¦æƒ…</h3>
            <p>èˆªç©ºçº§é’›é‡‘å±è¡¨å£³ï¼Œä¸“ä¸ºæé™è¿åŠ¨è®¾è®¡ã€‚åŒé¢‘ GPSï¼Œæ·±åº¦é˜²æ°´ï¼Œæ˜¯æˆ·å¤–æ¢é™©çš„ç†æƒ³é€‰æ‹©ã€‚</p>
            <ul>
                <li>ğŸŒŠ 100ç±³é˜²æ°´</li>
                <li>â¤ï¸ å®æ—¶å¿ƒç‡ç›‘æµ‹</li>
                <li>ğŸ›°ï¸ åŒé¢‘ GPS</li>
                <li>ğŸ”‹ 36å°æ—¶é•¿ç»­èˆª</li>
            </ul>
            <div class="product-video-placeholder">äº§å“æ¼”ç¤ºè§†é¢‘å ä½ç¬¦</div>
            <a href="#" class="buy-button" onclick="alert('å·²åŠ å…¥è´­ç‰©è½¦ï¼')">ç«‹å³è´­ä¹°</a>
        </div>
    </div>

    <div id="mac-details" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('mac-details')">&times;</span>
            <h3>Pineapple Mac Studio è¯¦æƒ…</h3>
            <p>æ­è½½ M3 Ultra èŠ¯ç‰‡ï¼Œæœ€é«˜æ”¯æŒ 192GB ç»Ÿä¸€å†…å­˜ã€‚æ¥å£ä¸°å¯Œï¼Œä¸ºä¸“ä¸šç”¨æˆ·æä¾›æè‡´å·¥ä½œç«™ä½“éªŒã€‚</p>
            <ul>
                <li>ğŸ§  M3 Ultra èŠ¯ç‰‡</li>
                <li>ğŸ’¾ æœ€é«˜ 192GB RAM</li>
                <li>ğŸ’¨ é«˜æ•ˆæ•£çƒ­ç³»ç»Ÿ</li>
                <li>ğŸ”— Thunderbolt 4 æ¥å£</li>
            </ul>
            <div class="product-video-placeholder">äº§å“æ¼”ç¤ºè§†é¢‘å ä½ç¬¦</div>
            <a href="#" class="buy-button" onclick="alert('å·²åŠ å…¥è´­ç‰©è½¦ï¼')">ç«‹å³è´­ä¹°</a>
        </div>
    </div>

    <script>
        // GSAP æ³¨å†Œæ’ä»¶
        gsap.registerPlugin(ScrollTrigger);

        // å¯¼èˆªæ ç‚¹å‡»å¹³æ»‘æ»šåŠ¨
        function scrollToSection(id) {
            gsap.to(window, { duration: 1.2, scrollTo: `#${id}`, ease: "power2.inOut" });
            // æ‰‹æœºéœ‡åŠ¨åé¦ˆ
            if (window.navigator.vibrate) {
                window.navigator.vibrate(10);
            }
        }

        // äº§å“è¯¦æƒ…å¼¹çª—
        function showProductDetails(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.add('active');
            document.body.style.overflow = 'hidden'; // ç¦æ­¢èƒŒæ™¯æ»šåŠ¨
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('active');
            document.body.style.overflow = ''; // æ¢å¤èƒŒæ™¯æ»šåŠ¨
        }


        // Three.js ç²’å­èƒŒæ™¯
        let scene, camera, renderer, particles;
        const particleCount = 1000;
        const particleGeometry = new THREE.BufferGeometry();
        const positions = new Float32Array(particleCount * 3);
        const velocities = new Float32Array(particleCount * 3);

        function initParticles() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('particle-canvas'), alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);

            for (let i = 0; i < particleCount * 3; i += 3) {
                positions[i] = (Math.random() - 0.5) * 100;
                positions[i + 1] = (Math.random() - 0.5) * 100;
                positions[i + 2] = (Math.random() - 0.5) * 100;

                velocities[i] = (Math.random() - 0.5) * 0.05;
                velocities[i + 1] = (Math.random() - 0.5) * 0.05;
                velocities[i + 2] = (Math.random() - 0.5) * 0.05;
            }
            particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));

            const particleMaterial = new THREE.PointsMaterial({
                color: varCSS('--accent-gold'), // ä½¿ç”¨ CSS å˜é‡
                size: 0.1,
                transparent: true,
                opacity: 0.8,
                blending: THREE.AdditiveBlending
            });

            particles = new THREE.Points(particleGeometry, particleMaterial);
            scene.add(particles);

            camera.position.z = 5;
            window.addEventListener('resize', onWindowResize, false);
        }

        function varCSS(name) {
            return new THREE.Color(getComputedStyle(document.documentElement).getPropertyValue(name));
        }

        function animateParticles() {
            requestAnimationFrame(animateParticles);

            const positions = particleGeometry.attributes.position.array;
            for (let i = 0; i < particleCount * 3; i += 3) {
                positions[i] += velocities[i];
                positions[i + 1] += velocities[i + 1];
                positions[i + 2] += velocities[i + 2];

                // ç²’å­è¶…å‡ºè¾¹ç•Œåé‡ç½®
                if (Math.abs(positions[i]) > 50) positions[i] = -(positions[i]);
                if (Math.abs(positions[i + 1]) > 50) positions[i + 1] = -(positions[i + 1]);
                if (Math.abs(positions[i + 2]) > 50) positions[i + 2] = -(positions[i + 2]);
            }
            particleGeometry.attributes.position.needsUpdate = true;
            particles.rotation.y += 0.0005;
            particles.rotation.x += 0.0002;

            renderer.render(scene, camera);
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        initParticles();
        animateParticles();


        // GSAP æ»šåŠ¨åŠ¨ç”»
        const products = document.querySelectorAll('.product-section');
        products.forEach((product, index) => {
            const product3d = product.querySelector('.product-3d-container');

            gsap.fromTo(product3d,
                {
                    opacity: 0,
                    scale: 0.8,
                    y: 100,
                    rotationX: index % 2 === 0 ? 30 : -30,
                    rotationY: index % 2 === 0 ? -30 : 30,
                    z: -100 // åˆå§‹çŠ¶æ€åœ¨åé¢
                },
                {
                    opacity: 1,
                    scale: 1,
                    y: 0,
                    rotationX: 0,
                    rotationY: 0,
                    z: 0,
                    ease: "power2.out",
                    scrollTrigger: {
                        trigger: product,
                        start: "top center+=10%", // æå‰ä¸€ç‚¹è§¦å‘
                        end: "bottom center-=10%",
                        scrub: 1, // å¹³æ»‘è·Ÿéšæ»šåŠ¨
                    }
                }
            );

            // æ ‡é¢˜å’Œå‰¯æ ‡é¢˜çš„æ»šåŠ¨æ·¡å…¥
            gsap.from(product.querySelector('.section-title'), {
                opacity: 0,
                y: 50,
                ease: "power2.out",
                scrollTrigger: {
                    trigger: product,
                    start: "top center+=20%",
                    end: "bottom center-=20%",
                    scrub: true,
                }
            });
            gsap.from(product.querySelector('.section-subtitle'), {
                opacity: 0,
                y: 30,
                ease: "power2.out",
                scrollTrigger: {
                    trigger: product,
                    start: "top center+=25%",
                    end: "bottom center-=25%",
                    scrub: true,
                }
            });
        });
    </script>
</body>
</html>
